<!DOCTYPE html>
  <!-- Coding by CodingLab | www.codinglabweb.com -->
<html lang="en">
<head>
    <title>FERTI.JY.MAP_FES</title>
    <link rel="icon"  type = "image/jpg" href="images/fertil.png" />


	<meta charset="utf-8">
    <!--meta http-equiv="X-UA-Compatible" content="IE=edge"-->
  	<meta name="description" content="Leaflet Coord Projection">
  	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	 <!--LEAFLET-->
     <link rel="stylesheet" href="leaflet.css">
     <link href="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" rel="stylesheet"/>
     <link rel="stylesheet" href="//unpkg.com/leaflet@1.8.0/dist/leaflet.css" />
      <!--coordonn√©es /-->
      <link rel="stylesheet" href="https://edihasaj.github.io/leaflet-coord-projection/coord-projection.css"/>
     <!--localisation /-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.78.0/dist/L.Control.Locate.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <!--Itin√©raire /-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
    <!--search bar /-->
     <link rel="stylesheet" href="//unpkg.com/@sjaakp/leaflet-search/dist/leaflet-search.css" />
     <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
     <!----======== CSS ======== -->
    <link rel="stylesheet" href="css.css">
    
    <!----===== Boxicons CSS ===== -->
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <style>

		.leaflet-container {
			height: 400px;
			width: 600px;
			max-width: 100%;
			max-height: 100%;
		}
	</style>
    </head>
    <!----===== CONTENU DU SIDEBAR ===== -->
    <body onload="hideLoader()">
        <div id="loader"></div>
        <nav class="sidebar close">
            <header>
                <div class="image-text">
                    <span class="image">
                        <img src="images/fertil.png" alt="">
                    </span>
    
                    <div class="text logo-text">
                        <span class="name">FERTI.JY.MAP_FES</span>
                        <span class="profession">GEOPORTAIL</span>
                    </div>
                </div>
    
                <i class='bx bx-chevron-right toggle'></i>
            </header>
    
            <div class="menu-bar">
                <div class="menu">
    
                    <ul class="menu-links">
                        <li class="nav-link">
                            <button href="#" onclick="refresh()" value="Rafraichir">
                                <i class='bx bx-refresh bx-spin bx-rotate-90 icon' ></i>
                                <span class="text navtext">RECHARGER LA PAGE</span>
                            </button>
                        </li>
                        <li class="nav-link">
                            <button href="#" onclick='hideDiv("myDiv");hide_other_divs("myDiv");'>
                                <i class='bx bxs-spreadsheet bx-flashing icon' ></i>
                                <span class="text navtext">A PROPOS</span>
                            </button>
                        </li>
                        <div id="myDiv" class="DIV" style="display: none;" onclick="">
                            <hr>
                            <p style="font-size: 14px;">Le G√©oportail <b>FERTI.JY.MAP_FES</b>, un portail web de du province molay yaaqob de la r√©gion de F√®s-M√®knes permettant l'acc√®s √† des services de recherche sur les fournisseurs des mat√©riaux agricoles, des angrais, et des semances , il consiste ainsi √† la visualisation des donn√©es g√©ographiques et g√©olocalis√©s de la fertilit√© du sol de cette r√©gion en termes de pourcentage de phosphore assimilable, de potassium √©changeable, de mati√®re organique, et de la valeur de pH. et il donne une id√©e sur le rendement du bl√© de cette zone suivant ann√©e 2014.
                                ce G√©oportail est mis en oeuvre par deux √©tudiantes: <b>LAHYAN OUIJDANE</b>, et <b>SBIKI HAJAR</b>.
                            </p>
                        </div>
    
                        <li class="nav-link">
                            <button href="#" onclick='hideDiv("Divcom");hide_other_divs("Divcom");'>
                                <i class='bx bxs-store bx-flashing icon' ></i>
                                <span class="text nav-text">Fournisseurs agricoles</span>
                            </button>
                        </li>
                        <div id="Divcom" class="DIV" style="display: none;">
                            <hr>
                            <p>les fournisseurs des mat√©riaux agricoles, des angrais, et des semances.</p>
                            <h4>Choix du fournisseur ad√©quat: </h4>
                            <button id="btnfour" onclick="showFour();"><b>Afficher les fournisseurs des mat√©riaux agricoles</b></button>
                            <button id="btnfour" onclick="showFourA();"><b>Afficher les fournisseurs des angrais et des semances</b></button>
                        </div>
    
                        <li class="nav-link">
                            <button href="#"onclick='hideDiv("Divfer");hide_other_divs("Divfer");'>
                                <i class='bx bxs-leaf bx-flashing icon' ></i>
                                <span class="text nav-text">Fertilit√© du sol</span>
                            </button>
                        </li>
                        <div id="Divfer" class="DIV" style="display: none;">
                            <hr>
                            <p>Les cartes choropl√®tes des donn√©es de fertilit√© du sol.</p>
                            <h4>Choisissez la carte de la donn√©e que vous voulez: </h4>
                            <button id="btnfour" onclick="showphos();"><b>Afficher la carte du phosphore assimilable</b></button>
                            <button id="btnfour" onclick="showpot();"><b>Afficher la carte du de potassium √©changeable</b></button>
                            <button id="btnfour" onclick="showMO();"><b>Afficher la carte de la mati√®re organique</b></button>
                            <button id="btnfour" onclick="showpH();"><b>Afficher la carte de la valeur du pH</b></button>
                        </div>
    
                        <li class="nav-link">
                            <button onclick='hideDiv("DivITE");hide_other_divs("DivITE");'>
                                <i class='bx bx-trip bx-flashing icon' ></i>
                                <span class="text nav-text">Itin√©raire</span>
                            </button>
                        </li>
                        <div id="DivITE" class="DIV" style="display: none;">
                            <hr>
                            <button id="btnfour" onclick="showitineraire();"><b>CLIQUER POUR ACTIVER LA FONCTION D'ITINERAIRE</b></button>
                            <p><b>Cliquer sur le point d√©sir√©, pour voir son itin√©raire</b></p>
                        </div>
                        <li class="nav-link">
                            <button href="#"onclick='hideDiv("DivRas");hide_other_divs("DivRas");'>
                                <i class='bx bxs-file bx-flashing icon' ></i>
                                <span class="text nav-text">Rasters</span>
                            </button>
                        </li>
                        <div id="DivRas" class="DIV" style="display: none;">
                            <hr>
                            <button id="btnfour" onclick="showRaster();"><b>CLIQUER POUR AFFICHER LE RASTER DU RENDEMENT DU BLE</b></button>
                        </div>
                        <li class="nav-link">
                            <button onclick='hideDiv("Divble");hide_other_divs("Divble");'>
                                <i class='bx bx-spa bx-flashing icon' ></i>
                                <span class="text nav-text">Rendement du bl√©</span>
                            </button>
                        </li>
                        <div id="Divble" class="DIV" style="display: none;">
                            <hr>
                            <p>Carte √† symboles proportionnels qui illustre le rendement du bl√© dans les communes du province de Moulay yacoub</p>
                            <button id="btnfour" onclick="showble();"><b>Afficher la carte √† symbole proportionelle du rendement du bl√©.</b></button>
                            
                        </div>
    
                    </ul>
                </div>
    
                <div class="bottom-content">
                    <li class="">
                        <button onclick='reset_all()'>
                            <i class='bx bx-reset bx-spin bx-flip-horizontal icon' ></i>
                            <span class="text nav-text">Actualiser la map</span>
                        </button>
                    </li>
    
                    <li class="mode">
                        <div class="sun-moon">
                            <i class='bx bx-moon icon moon'></i>
                            <i class='bx bx-sun icon sun'></i>
                        </div>
                        <span class="mode-text text">Dark mode</span>
    
                        <div class="toggle-switch">
                            <span class="switch"></span>
                        </div>
                    </li>
                    
                </div>
            </div>
    
        </nav>
    
        <section class="home">
            <div class="text"><b>üå±GEOPORTAIL AGRICOLE</b></div>
            <div id="map" style="width: 1190px; height: 680px; margin: 10px; margin-left: 40px;"></div>
        </section>
        <!-- leaflet-->
    <script type="text/javascript" src="leaflet.js"></script>
    <script src="https://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="//unpkg.com/leaflet@1.8.0/dist/leaflet.js"></script>
     <!-- script sidebar-->
     <script type="text/javascript" src="script.js"></script>
     <!-- area-->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/2.0.2/turf.min.js"></script>
     
    <!--coordonn√©es /-->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.6.0/proj4.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/proj4leaflet/1.0.2/proj4leaflet.min.js"></script>
	<script type="text/javascript" src="https://edihasaj.github.io/leaflet-coord-projection/coord-projection.js"></script>
    <!--localisation /-->
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.78.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
   <!--Itin√©raire /-->
   <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
   <!--search bar /-->
   <script src="//unpkg.com/@sjaakp/leaflet-search/dist/leaflet-search.js"></script>
   <!-- fichiers GeoJson-->
   <script src="ph.geojson" type="text/javascript" ></script>
   <script src="MORG.geojson" type="text/javascript" ></script>
   <script src="phosphore.geojson" type="text/javascript" ></script>
   <script src="potassium.geojson" type="text/javascript" ></script>
   <script src="angrais.geojson" type="text/javascript" ></script>
   <script src="materiel.geojson" type="text/javascript" ></script>
   <script type="text/javascript" src="CommunesFes.geojson"></script>
   <script type="text/javascript" src="Rdt_Fes.geojson"></script>
   
<!-- contenu du geoportail-->
<script>
  
    //Definition des icons

var blackIcon = L.icon({
    iconUrl:'images/marker.svg' ,
    iconSize:     [32, 37], // size of the icon
    iconAnchor:   [16, 37], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
});

var redIcon = L.icon({
    iconUrl:'images/marker_red.svg' ,
    iconSize:     [32, 37], // size of the icon
    iconAnchor:   [16, 37], // point of the icon which will correspond to marker's location
    popupAnchor:  [0, -30] // point from which the popup should open relative to the iconAnchor
});



/// Inra markers
var inramkns = L.marker([33.84187015552927, -5.473298926093416],{icon : blackIcon}).bindPopup('INRA: Centre R√©gional de la Recherche Agronomique de Mekn√®s'),
    domaineexp    = L.marker([33.94181769390552, -5.271066061593188],{
            icon : blackIcon
        }).bindPopup('Domaine Exp√©rimental Ain Taoujdate (INRA)'),
 	inrafes   = L.marker([34.069487449074785, -5.089453074262621],{
            icon : blackIcon
        }).bindPopup('Domaine Exp√©rimental de Douyet (INRA)');

var inra = L.featureGroup([inramkns, domaineexp, inrafes])
      .on('mousemove',function(e){
          e.layer.setIcon(redIcon)
      }).on('mouseout',function(e){
          e.layer.setIcon(blackIcon)
      });



/// Basemaps variables
	var osm = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
    maxZoom: 20,
    attribution: '<div class="attribution"> cartocdn </div>'
});
   var satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    maxZoom: 20,
    attribution: '<div class="attribution">Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community</div>'
});

var baseMaps = {
    'Map 2D': osm,
    'satellite': satellite,
};


///// initialisation de la variable map

var map = L.map('map', {
    center: [34.024448569714444, -5.00759981740267],
    zoom: 10,
    layers: osm
});
var overlayMaps = {
    "inra": inra,
};

var layerControl = L.control.layers(baseMaps,overlayMaps).addTo(map);


///coordinates
L.control.coordProjection({
            crs: 'EPSG4326'
        }).addTo(map);

///localisation
L.control.locate().addTo(map);
//SEARCH
L.Control.geocoder().addTo(map);
    
var baseMaps = {
    "<span style='color: gray'>Grayscale</span>": grayscale ,
};
</script>

</body>
</html>